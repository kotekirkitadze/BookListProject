<div class="add-movie-container">
  <h1 class="title">{{"catalogue.searchPage.TITLE" | translate}}</h1>
  <div class="add-movie">
    <div class="form">
      <input [(ngModel)]="searchData"
             type="text"
             placeholder="{{'catalogue.searchPage.INPUT' | translate}}">
      <div class="error-box" *ngIf="errorVal">
        {{"errors.SEARCH_ERROR" | translate}}
      </div>
      <button (click)="searchBook(searchData)">{{"catalogue.searchPage.ADD_BOOK_BTN" | translate}}</button>
    </div>
  </div>
  <ul class="lastThree">
    <li *ngFor="let name of lastThreeSearches"
         (click)="getBooksFromApi(name)">
      {{name}}
    </li>
  </ul>
</div>
<form class="contact-box" [formGroup]="form">
  <div class="form-conatiner">
    <label>{{"catalogue.searchPage.REVIEW" | translate}}</label>
    <div class="input-div">
      <textarea type="text"
                class="textarea-field"
                formControlName="review"></textarea>
      <div *ngIf="form.invalid && submitted">
        <div *ngIf="form.controls.review?.errors && !form.controls.review?.errors?.minlength"
              class="alert">
          რევიუ სავალდებულოა
        </div>
        <div *ngIf="form.controls.review?.errors?.minlength" class="alert">
          თქვენი რევიუ მოკლეა
        </div>
      </div>
    </div>
  </div>
  <div class="form-conatiner form-conatiner">
    <label>{{"catalogue.searchPage.RATING" | translate}}</label>
    <div class="rating">
      <input type="radio"
             id="star1"
             [value]="5"
             formControlName="rating"><label for="star1"></label>
      <input type="radio"
             id="star2"
             [value]="4"
             formControlName="rating"><label for="star2"></label>
      <input type="radio"
             id="star3"
             [value]="3"
             formControlName="rating"><label for="star3"></label>
      <input type="radio"
             id="star4"
             [value]="2"
             formControlName="rating"><label for="star4"></label>
      <input type="radio"
             id="star5"
             [value]="1"
             formControlName="rating"><label for="star5"></label>
    </div>
  </div>
  <div class="form-conatiner">
    <label>{{"catalogue.searchPage.STATUS" | translate}}</label>
    <select formControlName="status">
      <option class="option"
              [ngValue]="status.Read">{{"catalogue.searchPage.READ" | translate}}</option>
      <option class="option"
              [ngValue]="status.ReadLater">{{"catalogue.searchPage.LATER_READ" | translate}}</option>
    </select>
  </div>
  <div class="form-conatiner" *ngIf="whenToRead">
    <label>{{"catalogue.searchPage.STATUS" | translate}}</label>
    <select formControlName="whenToRead">
      <option [ngValue]=null hidden>{{"catalogue.searchPage.SELECT" | translate}}</option>
      <option *ngFor="let element of timeToRead"
              [ngValue]="element.value" >
            {{element.label | translate}}
            </option>
    </select>
  </div>
  <button type="button"
          (click)="submit()"
          class="btn btn-book">{{"catalogue.searchPage.ADD_COL" | translate}}</button>
</form>

<!-- <button (click)="test()">test</button> -->
